!function(t){var n={};function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(r,a,function(n){return t[n]}.bind(null,a));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}e.r(n),e.d(n,"getSystemFontsLocation",(function(){return a})),e.d(n,"getUserFontsLocation",(function(){return o})),e.d(n,"getSupplementalFontsLocation",(function(){return i})),e.d(n,"getUserFonts",(function(){return c})),e.d(n,"getSystemFonts",(function(){return u})),e.d(n,"getSupplimentalFonts",(function(){return l})),e.d(n,"getAllFonts",(function(){return f})),e.d(n,"getRoot",(function(){return s})),e.d(n,"getFileContent",(function(){return g})),e.d(n,"getSavePath",(function(){return d})),e.d(n,"writeFile",(function(){return p})),e.d(n,"moveImages",(function(){return m})),e.d(n,"moveSVGs",(function(){return S})),e.d(n,"copyFonts",(function(){return v})),e.d(n,"getFinalStore",(function(){return y}));var a=function(){var t=NSFileManager.defaultManager().URLsForDirectory_inDomains(NSLibraryDirectory,8)[0],n=t?t.absoluteString().replace("file://",""):null;return(n?NSFileManager.defaultManager().fileExistsAtPath("".concat(n,"Fonts")):null)?"".concat(n,"Fonts/"):null},o=function(){var t=NSFileManager.defaultManager().URLsForDirectory_inDomains(NSLibraryDirectory,1)[0],n=t?t.absoluteString().replace("file://",""):null;return(n?NSFileManager.defaultManager().fileExistsAtPath("".concat(n,"Fonts")):null)?"".concat(n,"Fonts/"):null},i=function(){var t=NSFileManager.defaultManager().URLsForDirectory_inDomains(NSLibraryDirectory,8)[0],n=t?t.absoluteString().replace("file://",""):null;return(n?NSFileManager.defaultManager().fileExistsAtPath("".concat(n,"Fonts/Supplemental")):null)?"".concat(n,"Fonts/Supplemental/"):null},c=function(){var t=o();if(t){var n=NSFileManager.defaultManager().contentsOfDirectoryAtPath_error(t,nil);return Array.from(n,(function(t){return String(t)}))}return null},u=function(){var t=a();if(t){var n=NSFileManager.defaultManager().contentsOfDirectoryAtPath_error(t,nil);return Array.from(n,(function(t){return String(t)}))}return null},l=function(){var t=i();if(t){var n=NSFileManager.defaultManager().contentsOfDirectoryAtPath_error(t,nil);return Array.from(n,(function(t){return String(t)}))}return null},f=function(){var t=o(),n=a(),e=i(),r=[c(),u(),l()],f=[t,n,e].filter((function(t){return null!==t}));return f.length>0?f.map((function(t,n){return{location:t,contents:r[n]}})):null},s=function(t){return t.scriptPath.stringByDeletingLastPathComponent().stringByDeletingLastPathComponent().stringByDeletingLastPathComponent()},g=function(t){return NSString.stringWithContentsOfFile_encoding_error(t,4,nil)},d=function(t){t.document.fileURL()&&t.document.fileURL().path().stringByDeletingLastPathComponent();var n=t.document.displayName().stringByDeletingPathExtension(),e=NSSavePanel.savePanel();return e.setTitle("Export spec"),e.setNameFieldLabel("Export to:"),e.setPrompt("Export"),e.setCanCreateDirectories(!0),e.setNameFieldStringValue(n),e.runModal()==NSOKButton&&e.URL().path()},p=function(t){var n=NSString.stringWithString(t.content),e=[];NSFileManager.defaultManager().createDirectoryAtPath_withIntermediateDirectories_attributes_error(t.path,!0,nil,nil),e.push(t.path,"/",t.fileName),e=e.join(""),n.writeToFile_atomically_encoding_error(e,!1,4,null)},m=function(t,n){var e="".concat(n,"/images");NSFileManager.defaultManager().createDirectoryAtPath_attributes(e,nil),t.forEach((function(t){NSFileManager.defaultManager().moveItemAtPath_toPath_error(t.src["1x"],"".concat(e,"/").concat(t.id,".png"),nil),NSFileManager.defaultManager().moveItemAtPath_toPath_error(t.src["2x"],"".concat(e,"/").concat(t.id,"@2x.png"),nil)}))},S=function(t,n){var e="".concat(n,"/svgs");NSFileManager.defaultManager().createDirectoryAtPath_attributes(e,nil),t.forEach((function(t){NSFileManager.defaultManager().moveItemAtPath_toPath_error(t.src,"".concat(e,"/").concat(t.id,".svg"),nil)}))},v=function(t,n){var e=f(),r="".concat(n,"/fonts");e&&(NSFileManager.defaultManager().createDirectoryAtPath_attributes(r,nil),t.forEach((function(t){e.forEach((function(n){var e=function(t){var n=t.replace(/\s/g,""),e=t.replace(/\s/g,"-");return[t,n,e]}(t),a=n.contents.filter((function(t){return function(t,n){var e=!1,r=t.toUpperCase();return n.forEach((function(t){var n=t.toUpperCase();-1!==r.indexOf(n)&&(e=!0)})),e}(t,e)}));a.length>0&&(NSFileManager.defaultManager().createDirectoryAtPath_attributes("".concat(r,"/").concat(t),nil),a.forEach((function(e){NSFileManager.defaultManager().copyItemAtPath_toPath_error("".concat(n.location,"/").concat(e),"".concat(r,"/").concat(t,"/").concat(e),nil)})))}))})))},y=function(t){var n=Object.assign({},t);return n.images=t.images.map((function(t){var n;return{id:t.id,src:(n={},r(n,"1x","images/".concat(t.id,".png")),r(n,"2x","images/".concat(t.id,"@2x.png")),n)}})),n.svgs=t.svgs.map((function(t){return{id:t.id,src:"svgs/".concat(t.id,".svg")}})),JSON.stringify(n)}}]);